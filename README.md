# Predecessor_bot

Этот учебый проект по созданию Telegram-бота с использованием aiogram.  Он демонстрирует основные принципы работы с библиотекой aiogram, включая обработку сообщений, создание команд, использование состояний и работу с базой данных. Осоновой послужил учебный курс https://github.com/MasterGroosha/telegram-tutorial.

## Функциональность бота

Этот бот предназначен для отслеживания показателя Performance Score в игре Predecessor, на основе omeda.city API. Возможности:

* **Добавление игрока:** Пользователь может добавить игрока в базу данных, указав его имя и Omeda ID.
* **Удаление игрока:** Пользователь может удалить игрока из базы данных.
* **Получение информации о PS игроков:**  Бот может отображать текущий PS игроков, а также изменение PS по сравнению с предыдущим днем.
* **Ежедневное обновление PS:** Бот автоматически обновляет значения PS игроков каждый день.

## Технологии

* **Python:** Язык программирования.
* **aiogram:** Библиотека для создания Telegram-ботов.
* **SQLAlchemy:** ORM для работы с базой данных.
* **SQLite:** База данных для хранения информации об игроках.

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/SibDiP/aiogram_intro_tutorial.git
   ```

2. Создайте виртуальное окружение:

   ```bash
   python3 -m venv .venv
   ```

3. Активируйте виртуальное окружение:

   ```bash
   source .venv/bin/activate  # Linux/macOS
   .venv\Scripts\activate  # Windows
   ```

4. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

5. Настройте бота:

   * Создайте бота в Telegram с помощью @BotFather и получите токен.
   * Создайте файл `.env` в корне проекта и добавьте туда токен бота:

     ```
     TELEGRAM_BOT_TOKEN=ваш_токен_бота
     LOGGING_MODE=INFO
     ```

## Запуск

```bash
python main.py
```

## Тестирование

```bash
pytest
```


## Структура проекта

* `main.py`: Основной файл бота.
* `utils/`:  Вспомогательные модули.
    * `users_manager.py`: Модуль для работы с базой данных пользователей.
    * `ps_parser.py`: Модуль для парсинга данных о PS с API.
    * `ps_data_manager.py`: Модуль для управления данными о PS.
    * `ps_analitic_tools.py`: Модуль для анализа данных о PS.
* `tests/`:  Тесты.

## Лицензия

MIT License | 2025 | Dmitrii Pivnev


## Контакты

sibdip - https://github.com/SibDiP


